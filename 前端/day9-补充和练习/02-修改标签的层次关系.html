<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				border: 0;
				padding: 0;
			}
			div{
				width: 200px;
				height: 200px;
			}
			#div1{
				background-color: #FF0000;
				position: absolute;
				top: 100px;
				left: 100px;
				/*默认都是0，这个值大的在上*/
				/*z-index: 1;*/
			}
			#div2{
				background-color: yellow;
				position: absolute;
				top: 200px;
				left: 200px;
			}
			#div3{
				background-color: green;
				position: absolute;
				top: 300px;
				left: 300px;
				/*z-index: 2;*/
			}
		</style>
	</head>
	<body>
		<div id="div1"></div>
		<div id="div2"></div>
		<div id="div3" onmousemove="dragAction(this)" onmousedown="down(this)"></div>
		<script type="text/javascript">
			var div1Node = document.getElementById('div1')
			var div2Node = document.getElementById('div2')
			var div3Node = document.getElementById('div3')
//			var divArrayNote = document.getElementsByTagName('div')
			//保存当前
			var maxZ = 0;
			function clickAction(){
				maxZ++;
				this.style.zIndex = maxZ
				this.isDown = true;
			}
			//绑定事件
			
			div1Node.onmousedown = clickAction;
			div2Node.onmousedown = clickAction;
			div3Node.onmousedown = clickAction;
			
			div1Node.onmousemove = dragAction;
			div2Node.onmousemove = dragAction;
			div3Node.onmousemove = dragAction;
				
			
			function down(evt){
				console.log(evt.offsetX,evt.offsetY)
				x = evt.offsetX;
				y = evt.offsetY;
				
			}
			function dragAction(evt){
				console.log(evt)
				evt.offsetX = x
				evt.offsetY = y
				
				}
			
		</script>
	</body>
</html>
